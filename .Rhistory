match <- domestication_times[ which(domestication_times$Region == levels(domestication_times$Region)[ type_number]), 9]
maxer <- max(match, na.rm=TRUE)
j <- ecdf(maxer-match)
#print(j)
plot(0,0, xlim=c(15,0), ylim=c(0,100), ylab="Percent of species that will eventually \n be domesticated in a region", xlab="Thousand years ago", main=levels(domestication_times$Region)[ type_number], type="n", yaxt="n")
x_seq <- rev(c(0,seq(0, maxer, length.out=100)))
y_seq <- 100 * (c(0, j(seq(0, maxer, length.out=100))))
lines(x_seq, y_seq,  ylim=c(-1,1))
polygon(c(0, x_seq), c(0, y_seq), border=adjustcolor("cornflowerblue",alpha=1), col=adjustcolor("cornflowerblue", alpha=0.2))
if(i == 2 | i == 1)axis(2)
if(i == 3)mtext("Cummulative distribution function for the accumulation of domesticates", 3, line=3.8, col="cornflowerblue")
}
par(mfcol=c(2,5), mar=c(4,0,5,0))
plot(0,0, type="n", xaxt="n", xlab="", bty="n")
mtext("Percent of species that will eventually \n be domesticated in a region", 2, line=-5, cex=0.5)
plot(0,0, type="n", xaxt="n", xlab="", bty="n")
mtext("Percent of species that will eventually \n be domesticated in a region", 2, line=-5, cex=0.5)
for(i in 1:8){
type_number <- i
match <- domestication_times[ which(domestication_times$Region == levels(domestication_times$Region)[ type_number]), 9]
maxer <- max(match, na.rm=TRUE)
j <- ecdf(maxer-match)
#print(j)
plot(0,0, xlim=c(15,0), ylim=c(0,100), ylab="Percent of species that will eventually \n be domesticated in a region", xlab="Thousand years ago", main=levels(domestication_times$Region)[ type_number], type="n", yaxt="n")
x_seq <- rev(c(0,seq(0, maxer, length.out=100)))
y_seq <- 100 * (c(0, j(seq(0, maxer, length.out=100))))
lines(x_seq, y_seq,  ylim=c(-1,1))
polygon(c(0, x_seq), c(0, y_seq), border=adjustcolor("cornflowerblue",alpha=1), col=adjustcolor("cornflowerblue", alpha=0.2))
abline(v= maxer - quantile(j)[2], col="limegreen", lwd=2)
if(i == 2 | i == 1)axis(2)
if(i == 2)mtext("25%", 3, line=3.5, adj=-1, col="limegreen")
if(i == 3)mtext("Cummulative distribution function for the accumulation of domesticates", 3, line=3.8, col="cornflowerblue")
if(i == 4)mtext("Choose a y to predict an x", 3, line=3.3, col="cornflowerblue")
break_one <- maxer
break_two <- maxer - quantile(j)[2]
polygon(x=c(break_two, break_two, break_one, break_one), y=c(0, 1, 1, 0), col=adjustcolor("cornflowerblue", alpha=0.2), border=adjustcolor("cornflowerblue",alpha=1))
lines(x=c(break_two, break_two), y=c(0,-1), col="cornflowerblue")
abline(h = 25, col="limegreen", lwd=2)
}
install.packages("bookdown")
install.packages("DiagrammeR", repos = "source")
install.packages("DiagrammeR", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
#function name = bd, function input = tree of type 'phylo'
bd <- function (tree)
{
tree$edge.length <- tree$edge.length/max(tree$edge.length)
x <- birthdeath(tree)
b <- x$para[2]/(1 - x$para[1])
d <- b - x$para[2]
c(setNames(c(b, d), c("b", "d")), x$para)
}
<environment: namespace:FARM>
#function name = bd, function input = tree of type 'phylo'
bd <- function (tree)
{
tree$edge.length <- tree$edge.length/max(tree$edge.length)
x <- birthdeath(tree)
b <- x$para[2]/(1 - x$para[1])
d <- b - x$para[2]
c(setNames(c(b, d), c("b", "d")), x$para)
}
grViz("
digraph {
node [shape = box
fontname = Helvetica
penwidth = 2.0]
'Input the data hub';
'Is there more than one societ in the world?';
'Pick the only available society';
'Randomly choos a spreader society';
'Are there any empty neighboring locations?';
'Attempt to Takover';
'Is the spreader a Forager of Domesticator?';
'is there neighbors with suitable enivonrment for domestication?';
'Randomly choose a target neighbor';
'Randomly choose a taret neighbor among the ones with suitable condition for domestication';
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Spreader removers target from the space and phylogeny';
'Nothing happens';
'Speader occupies the target cell and bifurcate in the phylogeny';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Attempt to dispersal';
'Randomly choos an empty target location';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'output to data hub';
edge []
'Input the data hub' -> 'Is there more than one societ in the world?';
'Is there more than one societ in the world?' -> 'Pick the only available society' [label = 'NO'];
'Is there more than one societ in the world?' -> 'Randomly choos a spreader society' [label = 'YES'];
'Pick the only available society' -> 'Are there any empty neighboring locations?';
'Randomly choos a spreader society' -> 'Are there any empty neighboring locations?';
'Are there any empty neighboring locations?' -> 'Attempt to dispersal' [label = 'YES'];
'Are there any empty neighboring locations?' -> 'Attempt to Takover' [label = 'NO'];
'Attempt to Takover' -> 'Is the spreader a Forager of Domesticator?';
'Is the spreader a Forager of Domesticator?' -> 'is there neighbors with suitable enivonrment for domestication?' [label = 'Domesticator'];
'Is the spreader a Forager of Domesticator?' -> 'Randomly choose a target neighbor' [label = 'Forager'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a target neighbor' [label = 'NO'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a taret neighbor among the ones with suitable condition for domestication' [label = 'YES'];
'Randomly choose a taret neighbor among the ones with suitable condition for domestication' -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Randomly choose a target neighbor'  -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' ;
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Spreader removers target from the space and phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Nothing happens' [label = 'NO'];
'Nothing happens' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'output to data hub' [label = 'NO'];
'Attempt to dispersal' -> 'Randomly choos an empty target location';
'Randomly choos an empty target location' -> 'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Speader occupies the target cell and bifurcate in the phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Nothing happens' [label = 'NO'];
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'Is there more than one societ in the world?' [label = 'YES'];
'Speader occupies the target cell and bifurcate in the phylogeny' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Spreader removers target from the space and phylogeny' -> 'Speader occupies the target cell and bifurcate in the phylogeny';
}")
install.packages("DiagrammeR", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
library(DiagrammeR)
grViz("
digraph {
node [shape = box
fontname = Helvetica
penwidth = 2.0]
'Input the data hub';
'Is there more than one societ in the world?';
'Pick the only available society';
'Randomly choos a spreader society';
'Are there any empty neighboring locations?';
'Attempt to Takover';
'Is the spreader a Forager of Domesticator?';
'is there neighbors with suitable enivonrment for domestication?';
'Randomly choose a target neighbor';
'Randomly choose a taret neighbor among the ones with suitable condition for domestication';
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Spreader removers target from the space and phylogeny';
'Nothing happens';
'Speader occupies the target cell and bifurcate in the phylogeny';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Attempt to dispersal';
'Randomly choos an empty target location';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'output to data hub';
edge []
'Input the data hub' -> 'Is there more than one societ in the world?';
'Is there more than one societ in the world?' -> 'Pick the only available society' [label = 'NO'];
'Is there more than one societ in the world?' -> 'Randomly choos a spreader society' [label = 'YES'];
'Pick the only available society' -> 'Are there any empty neighboring locations?';
'Randomly choos a spreader society' -> 'Are there any empty neighboring locations?';
'Are there any empty neighboring locations?' -> 'Attempt to dispersal' [label = 'YES'];
'Are there any empty neighboring locations?' -> 'Attempt to Takover' [label = 'NO'];
'Attempt to Takover' -> 'Is the spreader a Forager of Domesticator?';
'Is the spreader a Forager of Domesticator?' -> 'is there neighbors with suitable enivonrment for domestication?' [label = 'Domesticator'];
'Is the spreader a Forager of Domesticator?' -> 'Randomly choose a target neighbor' [label = 'Forager'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a target neighbor' [label = 'NO'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a taret neighbor among the ones with suitable condition for domestication' [label = 'YES'];
'Randomly choose a taret neighbor among the ones with suitable condition for domestication' -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Randomly choose a target neighbor'  -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' ;
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Spreader removers target from the space and phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Nothing happens' [label = 'NO'];
'Nothing happens' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'output to data hub' [label = 'NO'];
'Attempt to dispersal' -> 'Randomly choos an empty target location';
'Randomly choos an empty target location' -> 'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Speader occupies the target cell and bifurcate in the phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Nothing happens' [label = 'NO'];
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'Is there more than one societ in the world?' [label = 'YES'];
'Speader occupies the target cell and bifurcate in the phylogeny' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Spreader removers target from the space and phylogeny' -> 'Speader occupies the target cell and bifurcate in the phylogeny';
}")
png(filename="Takeover_flowchart.png")
grViz("
digraph {
node [shape = box
fontname = Helvetica
penwidth = 2.0]
'Input the data hub';
'Is there more than one societ in the world?';
'Pick the only available society';
'Randomly choos a spreader society';
'Are there any empty neighboring locations?';
'Attempt to Takover';
'Is the spreader a Forager of Domesticator?';
'is there neighbors with suitable enivonrment for domestication?';
'Randomly choose a target neighbor';
'Randomly choose a taret neighbor among the ones with suitable condition for domestication';
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Spreader removers target from the space and phylogeny';
'Nothing happens';
'Speader occupies the target cell and bifurcate in the phylogeny';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Attempt to dispersal';
'Randomly choos an empty target location';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'output to data hub';
edge []
'Input the data hub' -> 'Is there more than one societ in the world?';
'Is there more than one societ in the world?' -> 'Pick the only available society' [label = 'NO'];
'Is there more than one societ in the world?' -> 'Randomly choos a spreader society' [label = 'YES'];
'Pick the only available society' -> 'Are there any empty neighboring locations?';
'Randomly choos a spreader society' -> 'Are there any empty neighboring locations?';
'Are there any empty neighboring locations?' -> 'Attempt to dispersal' [label = 'YES'];
'Are there any empty neighboring locations?' -> 'Attempt to Takover' [label = 'NO'];
'Attempt to Takover' -> 'Is the spreader a Forager of Domesticator?';
'Is the spreader a Forager of Domesticator?' -> 'is there neighbors with suitable enivonrment for domestication?' [label = 'Domesticator'];
'Is the spreader a Forager of Domesticator?' -> 'Randomly choose a target neighbor' [label = 'Forager'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a target neighbor' [label = 'NO'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a taret neighbor among the ones with suitable condition for domestication' [label = 'YES'];
'Randomly choose a taret neighbor among the ones with suitable condition for domestication' -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Randomly choose a target neighbor'  -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' ;
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Spreader removers target from the space and phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Nothing happens' [label = 'NO'];
'Nothing happens' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'output to data hub' [label = 'NO'];
'Attempt to dispersal' -> 'Randomly choos an empty target location';
'Randomly choos an empty target location' -> 'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Speader occupies the target cell and bifurcate in the phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Nothing happens' [label = 'NO'];
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'Is there more than one societ in the world?' [label = 'YES'];
'Speader occupies the target cell and bifurcate in the phylogeny' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Spreader removers target from the space and phylogeny' -> 'Speader occupies the target cell and bifurcate in the phylogeny';
}")
dev.off()
png(filename="Takeover_flowchart.png")
grViz("
digraph {
node [shape = box
fontname = Helvetica
penwidth = 2.0]
'Input the data hub';
'Is there more than one societ in the world?';
'Pick the only available society';
'Randomly choos a spreader society';
'Are there any empty neighboring locations?';
'Attempt to Takover';
'Is the spreader a Forager of Domesticator?';
'is there neighbors with suitable enivonrment for domestication?';
'Randomly choose a target neighbor';
'Randomly choose a taret neighbor among the ones with suitable condition for domestication';
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Spreader removers target from the space and phylogeny';
'Nothing happens';
'Speader occupies the target cell and bifurcate in the phylogeny';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Attempt to dispersal';
'Randomly choos an empty target location';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'output to data hub';
edge []
'Input the data hub' -> 'Is there more than one societ in the world?';
'Is there more than one societ in the world?' -> 'Pick the only available society' [label = 'NO'];
'Is there more than one societ in the world?' -> 'Randomly choos a spreader society' [label = 'YES'];
'Pick the only available society' -> 'Are there any empty neighboring locations?';
'Randomly choos a spreader society' -> 'Are there any empty neighboring locations?';
'Are there any empty neighboring locations?' -> 'Attempt to dispersal' [label = 'YES'];
'Are there any empty neighboring locations?' -> 'Attempt to Takover' [label = 'NO'];
'Attempt to Takover' -> 'Is the spreader a Forager of Domesticator?';
'Is the spreader a Forager of Domesticator?' -> 'is there neighbors with suitable enivonrment for domestication?' [label = 'Domesticator'];
'Is the spreader a Forager of Domesticator?' -> 'Randomly choose a target neighbor' [label = 'Forager'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a target neighbor' [label = 'NO'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a taret neighbor among the ones with suitable condition for domestication' [label = 'YES'];
'Randomly choose a taret neighbor among the ones with suitable condition for domestication' -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Randomly choose a target neighbor'  -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' ;
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Spreader removers target from the space and phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Nothing happens' [label = 'NO'];
'Nothing happens' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'output to data hub' [label = 'NO'];
'Attempt to dispersal' -> 'Randomly choos an empty target location';
'Randomly choos an empty target location' -> 'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Speader occupies the target cell and bifurcate in the phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Nothing happens' [label = 'NO'];
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'Is there more than one societ in the world?' [label = 'YES'];
'Speader occupies the target cell and bifurcate in the phylogeny' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Spreader removers target from the space and phylogeny' -> 'Speader occupies the target cell and bifurcate in the phylogeny';
}")
dev.off()
png(filename="Takeover_flowchart.png")
grViz("
digraph {
node [shape = box
fontname = Helvetica
penwidth = 2.0]
'Input the data hub';
'Is there more than one societ in the world?';
'Pick the only available society';
'Randomly choos a spreader society';
'Are there any empty neighboring locations?';
'Attempt to Takover';
'Is the spreader a Forager of Domesticator?';
'is there neighbors with suitable enivonrment for domestication?';
'Randomly choose a target neighbor';
'Randomly choose a taret neighbor among the ones with suitable condition for domestication';
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Spreader removers target from the space and phylogeny';
'Nothing happens';
'Speader occupies the target cell and bifurcate in the phylogeny';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Attempt to dispersal';
'Randomly choos an empty target location';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'output to data hub';
edge []
'Input the data hub' -> 'Is there more than one societ in the world?';
'Is there more than one societ in the world?' -> 'Pick the only available society' [label = 'NO'];
'Is there more than one societ in the world?' -> 'Randomly choos a spreader society' [label = 'YES'];
'Pick the only available society' -> 'Are there any empty neighboring locations?';
'Randomly choos a spreader society' -> 'Are there any empty neighboring locations?';
'Are there any empty neighboring locations?' -> 'Attempt to dispersal' [label = 'YES'];
'Are there any empty neighboring locations?' -> 'Attempt to Takover' [label = 'NO'];
'Attempt to Takover' -> 'Is the spreader a Forager of Domesticator?';
'Is the spreader a Forager of Domesticator?' -> 'is there neighbors with suitable enivonrment for domestication?' [label = 'Domesticator'];
'Is the spreader a Forager of Domesticator?' -> 'Randomly choose a target neighbor' [label = 'Forager'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a target neighbor' [label = 'NO'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a taret neighbor among the ones with suitable condition for domestication' [label = 'YES'];
'Randomly choose a taret neighbor among the ones with suitable condition for domestication' -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Randomly choose a target neighbor'  -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' ;
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Spreader removers target from the space and phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Nothing happens' [label = 'NO'];
'Nothing happens' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'output to data hub' [label = 'NO'];
'Attempt to dispersal' -> 'Randomly choos an empty target location';
'Randomly choos an empty target location' -> 'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Speader occupies the target cell and bifurcate in the phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Nothing happens' [label = 'NO'];
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'Is there more than one societ in the world?' [label = 'YES'];
'Speader occupies the target cell and bifurcate in the phylogeny' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Spreader removers target from the space and phylogeny' -> 'Speader occupies the target cell and bifurcate in the phylogeny';
}")
dev.off()
export_svg(grViz("
digraph {
node [shape = box
fontname = Helvetica
penwidth = 2.0]
'Input the data hub';
'Is there more than one societ in the world?';
'Pick the only available society';
'Randomly choos a spreader society';
'Are there any empty neighboring locations?';
'Attempt to Takover';
'Is the spreader a Forager of Domesticator?';
'is there neighbors with suitable enivonrment for domestication?';
'Randomly choose a target neighbor';
'Randomly choose a taret neighbor among the ones with suitable condition for domestication';
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Spreader removers target from the space and phylogeny';
'Nothing happens';
'Speader occupies the target cell and bifurcate in the phylogeny';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Attempt to dispersal';
'Randomly choos an empty target location';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'output to data hub';
edge []
'Input the data hub' -> 'Is there more than one societ in the world?';
'Is there more than one societ in the world?' -> 'Pick the only available society' [label = 'NO'];
'Is there more than one societ in the world?' -> 'Randomly choos a spreader society' [label = 'YES'];
'Pick the only available society' -> 'Are there any empty neighboring locations?';
'Randomly choos a spreader society' -> 'Are there any empty neighboring locations?';
'Are there any empty neighboring locations?' -> 'Attempt to dispersal' [label = 'YES'];
'Are there any empty neighboring locations?' -> 'Attempt to Takover' [label = 'NO'];
'Attempt to Takover' -> 'Is the spreader a Forager of Domesticator?';
'Is the spreader a Forager of Domesticator?' -> 'is there neighbors with suitable enivonrment for domestication?' [label = 'Domesticator'];
'Is the spreader a Forager of Domesticator?' -> 'Randomly choose a target neighbor' [label = 'Forager'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a target neighbor' [label = 'NO'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a taret neighbor among the ones with suitable condition for domestication' [label = 'YES'];
'Randomly choose a taret neighbor among the ones with suitable condition for domestication' -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Randomly choose a target neighbor'  -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' ;
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Spreader removers target from the space and phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Nothing happens' [label = 'NO'];
'Nothing happens' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'output to data hub' [label = 'NO'];
'Attempt to dispersal' -> 'Randomly choos an empty target location';
'Randomly choos an empty target location' -> 'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Speader occupies the target cell and bifurcate in the phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Nothing happens' [label = 'NO'];
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'Is there more than one societ in the world?' [label = 'YES'];
'Speader occupies the target cell and bifurcate in the phylogeny' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Spreader removers target from the space and phylogeny' -> 'Speader occupies the target cell and bifurcate in the phylogeny';
}") ) %>% charToRaw %>% png::writePNG("starter_graph.png")
install.packages("DiagrammeR", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
library(DiagrammeR)
library(DiagrammeR)
library(DiagrammeRsvg)
install.packages("DiagrammeR", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
install.packages("DiagrammeR", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
install.packages("DiagrammeRsvg", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
install.packages("DiagrammeR", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
install.packages("magrittr", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
install.packages("magrittr", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
library(DiagrammeR)
library(DiagrammeRsvg)
library(magrittr)
library(svglite)
install.packages("svglite", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
install.packages("rsvg", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
install.packages("png", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
install.packages("png", repos = c(CRAN = "https://cran.revolutionanalytics.com"))
library(DiagrammeR)
library(DiagrammeRsvg)
library(magrittr)
library(svglite)
library(rsvg)
library(png)
export_svg(grViz("
digraph {
node [shape = box
fontname = Helvetica
penwidth = 2.0]
'Input the data hub';
'Is there more than one societ in the world?';
'Pick the only available society';
'Randomly choos a spreader society';
'Are there any empty neighboring locations?';
'Attempt to Takover';
'Is the spreader a Forager of Domesticator?';
'is there neighbors with suitable enivonrment for domestication?';
'Randomly choose a target neighbor';
'Randomly choose a taret neighbor among the ones with suitable condition for domestication';
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Spreader removers target from the space and phylogeny';
'Nothing happens';
'Speader occupies the target cell and bifurcate in the phylogeny';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Attempt to dispersal';
'Randomly choos an empty target location';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'output to data hub';
edge []
'Input the data hub' -> 'Is there more than one societ in the world?';
'Is there more than one societ in the world?' -> 'Pick the only available society' [label = 'NO'];
'Is there more than one societ in the world?' -> 'Randomly choos a spreader society' [label = 'YES'];
'Pick the only available society' -> 'Are there any empty neighboring locations?';
'Randomly choos a spreader society' -> 'Are there any empty neighboring locations?';
'Are there any empty neighboring locations?' -> 'Attempt to dispersal' [label = 'YES'];
'Are there any empty neighboring locations?' -> 'Attempt to Takover' [label = 'NO'];
'Attempt to Takover' -> 'Is the spreader a Forager of Domesticator?';
'Is the spreader a Forager of Domesticator?' -> 'is there neighbors with suitable enivonrment for domestication?' [label = 'Domesticator'];
'Is the spreader a Forager of Domesticator?' -> 'Randomly choose a target neighbor' [label = 'Forager'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a target neighbor' [label = 'NO'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a taret neighbor among the ones with suitable condition for domestication' [label = 'YES'];
'Randomly choose a taret neighbor among the ones with suitable condition for domestication' -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Randomly choose a target neighbor'  -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' ;
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Spreader removers target from the space and phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Nothing happens' [label = 'NO'];
'Nothing happens' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'output to data hub' [label = 'NO'];
'Attempt to dispersal' -> 'Randomly choos an empty target location';
'Randomly choos an empty target location' -> 'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Speader occupies the target cell and bifurcate in the phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Nothing happens' [label = 'NO'];
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'Is there more than one societ in the world?' [label = 'YES'];
'Speader occupies the target cell and bifurcate in the phylogeny' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Spreader removers target from the space and phylogeny' -> 'Speader occupies the target cell and bifurcate in the phylogeny';
}") ) %>% charToRaw %>% png::writePNG("starter_graph.png")
library(DiagrammeR)
library(DiagrammeRsvg)
library(magrittr)
library(svglite)
library(rsvg)
library(png)
stnds.qa.d2 <-grViz("
digraph {
node [shape = box
fontname = Helvetica
penwidth = 2.0]
'Input the data hub';
'Is there more than one societ in the world?';
'Pick the only available society';
'Randomly choos a spreader society';
'Are there any empty neighboring locations?';
'Attempt to Takover';
'Is the spreader a Forager of Domesticator?';
'is there neighbors with suitable enivonrment for domestication?';
'Randomly choose a target neighbor';
'Randomly choose a taret neighbor among the ones with suitable condition for domestication';
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Spreader removers target from the space and phylogeny';
'Nothing happens';
'Speader occupies the target cell and bifurcate in the phylogeny';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Attempt to dispersal';
'Randomly choos an empty target location';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'output to data hub';
edge []
'Input the data hub' -> 'Is there more than one societ in the world?';
'Is there more than one societ in the world?' -> 'Pick the only available society' [label = 'NO'];
'Is there more than one societ in the world?' -> 'Randomly choos a spreader society' [label = 'YES'];
'Pick the only available society' -> 'Are there any empty neighboring locations?';
'Randomly choos a spreader society' -> 'Are there any empty neighboring locations?';
'Are there any empty neighboring locations?' -> 'Attempt to dispersal' [label = 'YES'];
'Are there any empty neighboring locations?' -> 'Attempt to Takover' [label = 'NO'];
'Attempt to Takover' -> 'Is the spreader a Forager of Domesticator?';
'Is the spreader a Forager of Domesticator?' -> 'is there neighbors with suitable enivonrment for domestication?' [label = 'Domesticator'];
'Is the spreader a Forager of Domesticator?' -> 'Randomly choose a target neighbor' [label = 'Forager'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a target neighbor' [label = 'NO'];
'is there neighbors with suitable enivonrment for domestication?' -> 'Randomly choose a taret neighbor among the ones with suitable condition for domestication' [label = 'YES'];
'Randomly choose a taret neighbor among the ones with suitable condition for domestication' -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?';
'Randomly choose a target neighbor'  -> 'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' ;
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Spreader removers target from the space and phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probability of takeover for the confict category**?' -> 'Nothing happens' [label = 'NO'];
'Nothing happens' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'output to data hub' [label = 'NO'];
'Attempt to dispersal' -> 'Randomly choos an empty target location';
'Randomly choos an empty target location' -> 'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?';
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Speader occupies the target cell and bifurcate in the phylogeny' [label = 'YES'];
'Randomly choos a number between 0-1. Is this number smaller than the probabilityy of speciation for the spreader societ trait in the pre=expanding location environment?' -> 'Nothing happens' [label = 'NO'];
'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?' ->  'Is there more than one societ in the world?' [label = 'YES'];
'Speader occupies the target cell and bifurcate in the phylogeny' -> 'Are there any more societies remaining (excluding new societies generated during this loop) that did not go through the expansion process?';
'Spreader removers target from the space and phylogeny' -> 'Speader occupies the target cell and bifurcate in the phylogeny';
}")
tmp<-capture.output(rsvg_png(charToRaw(export_svg(stnds.qa.d2)),'stnds.qa.png'))
tmp
cat('![Standards QA flowchart](stnds.qa.png){#fig:stnds.qa.flow}\n\n')
![Standards QA flowchart](stnds.qa.png){#fig:stnds.qa.flow}
knit_with_parameters('~/Desktop/GitHub/FARM-markdown/01_Spatial_network.Rmd')
